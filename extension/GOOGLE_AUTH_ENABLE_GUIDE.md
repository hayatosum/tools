# 🔐 Firebase Google 認証 有効化手順（詳細版）

## 📍 前提条件

-   Firebase プロジェクトが作成済み
-   Firebase Console にログイン済み

---

## 🚀 具体的な手順

### 1. Firebase Console でプロジェクトを開く

1. **Firebase Console にアクセス**
    - https://console.firebase.google.com/ を開く
    - 作成したプロジェクトをクリック

### 2. Authentication サービスにアクセス

1. **左サイドバーから Authentication を選択**

    ```
    🏠 プロジェクトの概要
    👥 Authentication  ← これをクリック
    🗄️ Firestore Database
    ⚡ Functions
    🏗️ Hosting
    ```

2. **「始める」をクリック**
    - 初回の場合、「Authentication の使用を開始」ボタンが表示されます
    - すでに設定済みの場合は、この手順をスキップ

### 3. Google 認証プロバイダーを有効化

1. **「Sign-in method」タブをクリック**

    ```
    📊 Users  |  📝 Sign-in method  |  ⚙️ Settings  |  📈 Usage
               ^^^^^^^^^^^^^^^^^^^^
               このタブを選択
    ```

2. **認証プロバイダー一覧から「Google」を選択**

    ```
    📧 Email/Password       無効
    📱 Phone               無効
    🔍 Google              無効  ← これをクリック
    📘 Facebook            無効
    🐦 Twitter             無効
    🐙 GitHub              無効
    ```

3. **Google 認証を有効化**

    - 「有効にする」トグルスイッチを ON にする

    ```
    Google
    ┌─────────────────────────────────┐
    │ 有効にする  [OFF] → [ON]        │
    └─────────────────────────────────┘
    ```

4. **プロジェクトサポートメールを選択**

    ```
    プロジェクトサポートメール
    ┌─────────────────────────────────┐
    │ your-email@gmail.com ▼         │
    └─────────────────────────────────┘
    ```

    - ドロップダウンから自分のメールアドレスを選択

5. **「保存」をクリック**
    ```
    [キャンセル]  [保存]
                  ^^^^^^
                 これをクリック
    ```

### 4. 設定完了の確認

Google 認証が有効化されると、以下のように表示されます：

```
🔍 Google              有効  ⚙️
```

「有効」と表示されていれば設定完了です！

---

## 🎯 設定後の状態

### ✅ 完了した内容

-   Firebase Authentication サービスが有効化
-   Google OAuth 2.0 プロバイダーが設定完了
-   Chrome 拡張から Google 認証が利用可能

### 📱 ユーザーの動作

1. Chrome 拡張のポップアップを開く
2. 「Sign in with Google」ボタンをクリック
3. Google の認証画面が表示される
4. Google アカウントでログイン
5. 許可されたユーザーの場合：ログイン成功
6. 許可されていないユーザーの場合：自動的にログアウト

---

## 🔧 高度な設定（オプション）

### 承認済みドメイン

通常、Chrome 拡張では自動的に設定されるため変更不要

### OAuth 2.0 Web クライアント ID

Firebase が自動生成するため、手動設定不要

### リダイレクト URI

Chrome 拡張では自動設定されるため変更不要

---

## 🚨 よくあるトラブル

### ❌ 「Google 認証が無効です」エラー

**原因**: Google 認証プロバイダーが有効化されていない  
**解決**: 上記手順の「有効にする」トグルスイッチを確認

### ❌ 「プロジェクトサポートメール」エラー

**原因**: サポートメールが設定されていない  
**解決**: 有効なメールアドレスを選択して保存

### ❌ 「このアプリは確認されていません」警告

**原因**: 開発段階では正常な動作  
**対策**: 「詳細」→「安全ではないページに移動」をクリック

---

## ✅ 次のステップ

Google 認証が有効化できたら、次は：

1. **Firestore Database の作成**
2. **セキュリティルールの設定**
3. **許可ユーザーリストの作成**
4. **Chrome 拡張での動作確認**

詳細は `FIREBASE_GOOGLE_LOGIN_SETUP.md` を参照してください。
